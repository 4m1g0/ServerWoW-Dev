From 3aa595cac0dc4aa83c8f5b1f913fbe491bb13f34 Mon Sep 17 00:00:00 2001
From: 4m1g0 <casadelblanco@gmail.com>
Date: Sun, 5 Feb 2012 18:06:51 +0100
Subject: [PATCH 27/29] ValkyrLichKing

---
 .../IcecrownCitadel/boss_the_lich_king.cpp         |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

diff --git a/src/server/scripts/Northrend/IcecrownCitadel/boss_the_lich_king.cpp b/src/server/scripts/Northrend/IcecrownCitadel/boss_the_lich_king.cpp
index 9866d2a..34d20b3 100644
--- a/src/server/scripts/Northrend/IcecrownCitadel/boss_the_lich_king.cpp
+++ b/src/server/scripts/Northrend/IcecrownCitadel/boss_the_lich_king.cpp
@@ -116,7 +116,7 @@ enum Spells
     SPELL_SOUL_REAPER_BUFF              = 69410,
     SPELL_WINGS_OF_THE_DAMNED           = 74352,
     SPELL_VALKYR_TARGET_SEARCH          = 69030,
-    SPELL_CHARGE                        = 74399,    // cast on selected target
+    SPELL_CHARGE                        = 43807,    // cast on selected target (Spell provisional, el original es 74399)
     SPELL_VALKYR_CARRY                  = 74445,    // removes unselectable flag
     SPELL_LIFE_SIPHON                   = 73488,
     SPELL_LIFE_SIPHON_HEAL              = 73489,
@@ -1523,6 +1523,8 @@ class npc_valkyr_shadowguard : public CreatureScript
                 {
                     case POINT_DROP_PLAYER:
                         DoCastAOE(SPELL_EJECT_ALL_PASSENGERS);
+                        if (Player* target = ObjectAccessor::GetPlayer(*me, _grabbedPlayer))
+                            target->setDeathState(JUST_DIED);
                         me->DespawnOrUnsummon(1000);
                         break;
                     case POINT_CHARGE:
-- 
1.7.5.4

